--- kernel/stop_machine.c
+++ kernel/stop_machine.c
@@ -299,7 +299,7 @@
 extern void sched_set_stop_task(int cpu, struct task_struct *stop);
 
 /* manage stopper for a cpu, mostly lifted from sched migration thread mgmt */
-static int cpu_stop_cpu_callback(struct notifier_block *nfb,
+static int __cpuinit cpu_stop_cpu_callback(struct notifier_block *nfb,
 					   unsigned long action, void *hcpu)
 {
 	unsigned int cpu = (unsigned long)hcpu;
